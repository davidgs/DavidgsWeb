# This is a basic workflow to help you get started with Actions

name: Build Hugo

# Controls when the action will run. 
on:
  # Triggers the workflow on push or pull request events but only for the main branch
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # This workflow contains a single job called "deploy"
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
      - uses: actions/checkout@v2
        
      - name: Test
        run: echo "hello world"
       # with:
       #   submodules: true
       #   path: /tmp/hugo_cache
       #   key: ${{ runner.os }}-hugomod-${{ hashFiles('**/go.sum') }}
       #   restore-keys: |
       #     ${{ runner.os }}-hugomod-
#      - name: Setup Hugo
#        uses: peaceiris/actions-hugo@v2
#        with:
#          hugo-version: 'latest'
#      - name: Build
#        run: hugo --minify
#      - name: rsync deployments
#        uses: burnett01/rsync-deployments@4.1
#        with:
#          switches: -avzr
#          path: public/
#          remote_path: /home/${{ secrets.SSH_USER }}/www
#          remote_host: ${{ secrets.SSH_HOST }}
#          remote_port: ${{ secrets.SSH_PORT }}
#          remote_user: ${{ secrets.SSH_USER }}
#          remote_key: ${{ secrets.WEBSITE_DEPLOY_KEY }}
      
